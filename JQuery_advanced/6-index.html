<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8" />
  <title>Task 0</title>
  <script src="https://code.jquery.com/jquery-3.6.4.slim.min.js" integrity="sha256-a2yjHM4jnF9f54xUQakjZGaqYs/V1CYvWpoqZzC2/Bw=" crossorigin="anonymous"></script>
  <script type="application/javascript">
    function createFamilyTree() {
      var table = $('<table>');
      var thead = $('<thead>');
      var tr = $('<tr>');
      tr.append($('<th>').text("Firstname"));
      tr.append($('<th>').text("Lastname"));
      thead.append(tr);

      var tbody = $('<tbody>');

      table.append(thead, tbody);
      $('body').append(table);
    }

    function addNewMember(firstName, lastName, position) {
      var row = $('<tr>');
      row.append($('<td>').text(firstName));
      row.append($('<td>').text(lastName));
      var deleteCell = $('<td>').text('(x)').css({"background-color": "orange", "cursor": "pointer"}).addClass('delete-cell');
      deleteCell.click(function() {
        $(this).closest('tr').remove();
      });
      row.append(deleteCell);

      if (position === 'before') {
        $('tbody').prepend(row);
      } else {
        $('tbody').append(row);
      }
    }

    function createForm() {
      var form = $('<form>');
      var input1 = $('<input>').attr({ type: 'text', placeholder: 'First Name' });
      var input2 = $('<input>').attr({ type: 'text', placeholder: 'Last Name' });
      var select = $('<select>');
      select.append($('<option>').attr('value', 'before').text('Before'));
      select.append($('<option>').attr('value', 'after').text('After'));
      var submitBtn = $('<input>').attr({ type: 'submit', value: 'Add Member' });

      form.append(input1, input2, select, submitBtn);
      $('body').prepend(form);

      form.submit(function(e) {
        e.preventDefault();
        var firstName = input1.val();
        var lastName = input2.val();
        var position = select.val();
        addNewMember(firstName, lastName, position);
      });
    }

    $(document).ready(function() {
      createFamilyTree();
      createForm();
      addNewMember('Guillaume', 'Salva', 'after');
      addNewMember('Arielle', 'Snizt', 'after');
      addNewMember('Fanette', 'Snizt', 'before');
      addNewMember('Gerard', 'Snizt', 'before');
      addNewMember('Victor', 'Salva', 'after');
    });
  </script>
  
</head>

<body>
</body>

</html>
